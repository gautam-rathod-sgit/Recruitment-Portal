@model RecruitmentPortal.WebApp.ViewModels.SchedulesViewModel
@using RecruitmentPortal.Infrastructure.Data.Enum
@using RecruitmentPortal.WebApp.Helpers
@using RecruitmentPortal.WebApp.Resources



<section class="content">
    <div class="row">
        <div class="col-sm-12">
            <div class="box box-default boxPad">
                <div class="box-header">
                    <h3 class="box-title">
                        <i class="fa fa-info-circle"></i>
                        Schedule Interview
                    </h3>

                    <div class="box-tools pull-right">
                        <input type="submit" value="Save" class="btn btn-primary" name="submit" />
                        <a href='@Url.Action("Details", "JobApplication", new { id = Model.EncryptedId})' class="btn btn-primary">Cancel</a>
                      @*  <a asp-action="Details" asp-controller="JobApplication" asp-route-id="@RSACSPSample.EncodeServerName((Model.jobAppId).ToString())" class="mr-3 btn btn-danger">Cancel</a>*@
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-body">
                    @using (Html.BeginForm("IndexPost", "Schedules", FormMethod.Post, new { @autocomplete = "off", @role = "form" }))
                    {
                        <div class="row">
                            <div class="col-md-6">

                                @Html.HiddenFor(m => m.ID)
                                @Html.HiddenFor(m => m.candidateId)

                                <div class="form-group">
                                    @Html.LabelFor(m => m.candidate_name)
                                    @Html.TextBoxFor(m => m.candidate_name, new { @placeholder = "Name", @class = "form-control", @readonly = "readonly" })

                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.position)
                                    @Html.TextBoxFor(m => m.position, new { @placeholder = "Position", @class = "form-control", @readonly = "readonly" })

                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.datetime)
                                    @Html.TextBoxFor(m => m.datetime, new { @type = "datetime", @placeholder = "Date & Time", @class = "form-control datepicker" })
                                    @Html.ValidationMessageFor(model => model.datetime, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.roundValue)
                                    @Html.DropDownListFor(m => m.roundValue, new SelectList(ViewBag.RoundTypeList, "Value", "Text"), Messages.PleaseSelect, new { @class = "form-control select2" })

                                </div>
                            </div>

                            <div class="col-md-6">
                                
                                <div class="form-group">
                                    @Html.LabelFor(m => m.Multiinterviewer)
                                    @Html.ListBoxFor(m => m.Multiinterviewer, new MultiSelectList(ViewBag.users), new { @class = "form-control select2" })
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(m => m.statusvalue)
                                    @Html.DropDownListFor(m => m.statusvalue, new SelectList(ViewBag.StatusTypeList, "Value", "Text"), Messages.PleaseSelect, new { @class = "form-control select2" })
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(m => m.mode_of_interview)
                                    <div class="col-10">
                                        @Html.Label("Online")
                                        @Html.RadioButtonFor(m => m.mode_of_interview, "Online", new { @id = "online" })
                                        @Html.Label("Face to Face")
                                        @Html.RadioButtonFor(m => m.mode_of_interview, "Face-To-Face", new { @id = "face" })

                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<script src="~/lib//jquery//dist//jquery.min.js"></script>
<script>
  

    $(function () {

        $(".select2").select2();

        $('.datepicker').datepicker({
            format: 'dd/mm/yyyy',
            endDate: '+0d',
            autoclose: true
        });

        $("#round").val($(this).val() == 0 ? '' : $(this).val());

        var alreadyBound = false;
        $("#face").click(function () {
          
            if (!alreadyBound) {
                var element = '';
                element += '<div class="form-group">';
                element += '@Html.LabelFor(m => m.location)';
                element += '@Html.TextBoxFor(m => m.location, new { @placeholder = "Location", @class = "form-control" })';
                //element += '<label id = "location" class= "control-label required" > Location</label ><br>';
                //var input = '<input type="text" data-val="true" required data-val-location="The location field is not a valid." data-val-required="The location field is required." id="location" name="location" value="" style="width : 100%;height:40px;border-radius : 4px;border:0.5px solid #C7C6C5"/>';
                //element += input;
                element += '</div >';
                $("#face").after(element);
            }
            alreadyBound = true;
        });

        $("#online").click(function () {
            $("#face").next().remove("div");
            alreadyBound = false;
        });


    });

   

    

</script>
